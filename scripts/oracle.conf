# Oracle Orchestration System Configuration
# 
# This file contains configuration for the complete oracle orchestration system
# including oracle management, price coordination, and health monitoring.

[network]
# Stacks network configuration
network = testnet
rpc_url = https://stacks-node-api.testnet.stacks.co
api_url = https://api.testnet.hiro.so

[contracts]
# Contract addresses (update with actual deployed addresses)
oracle_aggregator = SPXXXXX.oracle-aggregator
circuit_breaker = SPXXXXX.circuit-breaker

[authentication]
# Private keys for admin and oracle operations
# WARNING: Never commit actual private keys to version control
deployer_privkey = YOUR_DEPLOYER_PRIVATE_KEY_HERE
oracle_privkeys = ORACLE1_PRIVKEY,ORACLE2_PRIVKEY,ORACLE3_PRIVKEY

[trading_pairs]
# Trading pairs to manage and monitor
pairs = STX/USD,BTC/USD,ETH/USD
default_min_sources = 3
max_oracles_per_pair = 10

[oracle_management]
# Oracle registration and whitelist management
auto_registration = true
oracle_selection_strategy = round_robin  # round_robin, best_reliability, random
oracle_timeout_seconds = 300
max_consecutive_failures = 3

[price_coordination]
# Price feed coordination settings
price_update_interval = 60  # seconds
submission_delay_min = 5    # minimum seconds between oracle submissions
submission_delay_max = 30   # maximum seconds between oracle submissions
price_staleness_threshold = 600  # 10 minutes
aggregation_delay_seconds = 30

# Price validation and anomaly detection
price_deviation_threshold_bps = 500   # 5% maximum deviation
anomaly_detection_threshold = 0.05    # 5% deviation from recent median
min_confidence_score = 0.7
max_price_age_seconds = 60

[external_price_sources]
# External price data sources
coinbase_enabled = true
binance_enabled = true
kraken_enabled = true
coingecko_enabled = true
coinmarketcap_enabled = false

# API configuration (add your API keys)
coinbase_api_key = YOUR_COINBASE_API_KEY
binance_api_key = YOUR_BINANCE_API_KEY
kraken_api_key = YOUR_KRAKEN_API_KEY
coingecko_api_key = YOUR_COINGECKO_API_KEY

[health_monitoring]
# Oracle health monitoring configuration
check_interval = 120  # seconds
response_timeout = 30 # seconds
min_uptime_threshold = 0.95  # 95%
max_deviation_threshold = 0.02  # 2%
min_submission_frequency = 0.5  # submissions per hour

[circuit_breaker]
# Circuit breaker integration
circuit_breaker_enabled = true
price_volatility_threshold_bps = 1000  # 10%
volume_spike_threshold = 5.0  # 5x normal volume
consecutive_anomalies_trigger = 3

[alerting]
# Alert and notification configuration
alert_webhook_url = https://your-webhook-url.com/alerts
slack_webhook_url = https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
email_alerts_enabled = false
email_smtp_server = smtp.gmail.com
email_recipients = admin@example.com,ops@example.com

# Alert thresholds
critical_failure_threshold = 3
warning_uptime_threshold = 0.95
accuracy_warning_threshold = 0.02

[logging]
# Logging configuration
log_level = INFO
log_file = ../logs/oracle/orchestrator.log
max_log_size_mb = 100
backup_count = 5

[dashboard]
# Dashboard and monitoring interface
dashboard_enabled = true
dashboard_port = 8080
dashboard_host = 0.0.0.0
metrics_retention_days = 30

[security]
# Security settings
enable_auth = true
api_key_required = true
rate_limit_requests_per_minute = 60
allowed_ips = 127.0.0.1,10.0.0.0/8

[performance]
# Performance tuning
max_concurrent_requests = 10
request_timeout_seconds = 30
retry_attempts = 3
retry_delay_seconds = 5

[development]
# Development and testing settings
dry_run = true
mock_external_apis = true
enable_debug_logging = false
test_mode = false
